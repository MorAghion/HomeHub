{
  "id": "be-004",
  "title": "Configure HomeHub branding on Supabase Auth email templates",
  "agent": "backend",
  "phase": "1.0",
  "priority": "low",
  "status": "todo",
  "created": "2026-02-25",
  "updated": "2026-02-25",
  "reported_by": "qa-014 — tests [29] [30]",
  "wave": 10,
  "failing_tests": ["[29]", "[30]"],
  "task": "Customise the Supabase Auth email templates so confirmation and password reset emails show HomeHub branding (logo, colours, app name) instead of the default Supabase template.",
  "implementation_plan": [
    "1. Go to Supabase Dashboard → Authentication → Email Templates",
    "2. Customise 'Confirm signup' template: add HomeHub name, primary colour #630606, app icon, and a clear CTA button",
    "3. Customise 'Reset password' template: same branding, with a 'Reset your password' CTA",
    "4. Set the redirectTo URL in both templates to https://home-hub-five.vercel.app/reset-password (production URL)",
    "5. Test by triggering a signup confirmation and a password reset from the production app",
    "6. Document the template HTML in agents/docs/email-templates.md for version control (Supabase templates are not in repo)"
  ],
  "acceptance_criteria": [
    "Signup confirmation email shows HomeHub name, #630606 colour, and confirmation link",
    "Password reset email shows HomeHub name and reset link pointing to the correct domain",
    "Both emails render correctly on mobile and desktop email clients"
  ],
  "human_action_required": true,
  "human_action_note": "Email templates are configured in the Supabase Dashboard — they cannot be set via migration files. A human must log into the Supabase Dashboard to apply these changes.",
  "notes": [
    "This task has no unit test — tests [29][30] in qa-014 test the signUp call signature which is a proxy. The real verification is manual.",
    "Consider using Supabase's SMTP override to send from a custom domain email (e.g. noreply@homehub.app) — requires DNS records",
    "Logo needs to be publicly accessible via a URL for embedding in emails"
  ]
}
