{
  "id": "fe-bug-009",
  "title": "Vouchers hub — master lists (Ontopo, Movies & Shows) can be deleted",
  "agent": "frontend",
  "phase": "0.1",
  "priority": "high",
  "status": "todo",
  "depends_on": [],
  "blocks": [],
  "created": "2026-02-23",
  "updated": "2026-02-23",
  "reported_by": "human — manual review",
  "description": "In the Reservations hub, the Ontopo and Movies & Shows lists (created from built-in templates with defaultType:'reservation') can be selected and deleted in edit mode. These should be treated as permanent 'master' hub lists that cannot be deleted by the user.",
  "steps_to_reproduce": [
    "1. Navigate to Reservations hub (or Vouchers hub)",
    "2. Ensure Ontopo or Movies & Shows list exists",
    "3. Click the Edit (pencil) button",
    "4. Observe: Ontopo card shows a delete checkbox overlay",
    "5. Click the checkbox to select it, then click Delete Selected",
    "6. Expected: Ontopo cannot be selected/deleted",
    "7. Actual: Ontopo is deleted"
  ],
  "affected_files": [
    "src/components/ReservationsHub.tsx — edit mode checkbox render logic",
    "src/components/VouchersHub.tsx — edit mode checkbox render logic",
    "src/types/base.ts — VoucherListInstance type (may need isMaster field)"
  ],
  "root_cause": "No protection flag or logic prevents master template lists from being rendered with a delete checkbox in edit mode. All lists in the grid unconditionally get the checkbox overlay when isEditMode=true.",
  "acceptance_criteria": [
    "Lists created from Ontopo and Movies & Shows templates do NOT show a delete checkbox in edit mode",
    "Select All does not include master list IDs",
    "Regular user-created lists still show delete checkboxes (no regression)",
    "Regression tests in tests/components/reservations/ReservationsHub.test.tsx pass"
  ],
  "regression_tests": "tests/components/vouchers/VouchersHub.test.tsx (BUG-009 suite) + tests/components/reservations/ReservationsHub.test.tsx (BUG-009 suite) + e2e/vouchers.spec.ts (fe-bug-009 suite)",
  "open_questions": [
    "How should master lists be identified? By templateId field on VoucherListInstance, by isMaster boolean, or by matching against VOUCHER_TEMPLATES?"
  ],
  "completion_summary": ""
}
