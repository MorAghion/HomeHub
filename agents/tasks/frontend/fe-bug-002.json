{
  "id": "fe-bug-002",
  "title": "Sign-in button unresponsive — click does nothing, no errors",
  "agent": "frontend",
  "phase": "0.x",
  "priority": "critical",
  "status": "review",
  "created": "2026-02-22",
  "updated": "2026-02-22",
  "parent_task": null,
  "reported_by": "human — manual testing",
  "regression_of": "fe-005-bug-001",
  "root_cause": "Premature setLoading(false) in AuthScreen.handleSignIn. The previous fix (fe-005-bug-001) removed fetchProfile from signIn(), making it resolve in ~200ms. The unconditional setLoading(false) immediately after caused the 'Signing in...' state to flash for <200ms then reset — making the button appear completely unresponsive. The dashboard appeared 1-2s later with no visible connection to the click. A secondary attempted fix (setLoading(true) in onAuthStateChange SIGNED_IN) created an infinite spinner because the safetyTimer had already been cleared by INITIAL_SESSION, so setLoading(false) was never reached if fetchProfile failed. Final fix: button always resets after signIn() returns; onAuthStateChange handles profile fetch and navigation in the background.",
  "steps_to_reproduce": [
    "1. Navigate to the sign-in screen",
    "2. Enter valid credentials",
    "3. Click Sign In",
    "4. Previously: button flashed 'Signing in...' for <200ms then reset, dashboard appeared unexpectedly 1-2s later"
  ],
  "affected_files": [
    "src/components/AuthScreen.tsx",
    "src/contexts/AuthContext.tsx"
  ],
  "fix_applied": "AuthScreen.handleSignIn: setLoading(false) always called after signIn() returns (error or success). handleSignUp and handleJoinHousehold follow same pattern. AuthContext: removed unstable setLoading(true) in onAuthStateChange(SIGNED_IN) that caused infinite spinner. Also fixed: unused 'data' variable in signIn() and signUp() that broke npm run build (TypeScript noUnusedLocals).",
  "completion_summary": "Sign-in button now shows 'Signing in...' during the network request, resets when done, and the dashboard loads in the background via onAuthStateChange. No infinite spinner. Build passes clean. Verified via multiple fix iterations — root cause fully resolved."
}
